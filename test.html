<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      #text {
        font-size: 28px;
        line-height: 28px;
        display: inline;
        white-space: nowrap;
      }
      #box {
        width: 40vw;
        background-color: grey;
      }
    </style>
  </head>
  <body>
    <div id="box">
      <p id="text">Hello there! Hello there! Hello there!</p>
    </div>
  </body>
  <script type="text/javascript">
      // var textSize = getComputedStyle(text).fontSize; //获取字体样式
      // var textSizeNum = parseInt(textSize); //获取字体大小
      // console.log('textSize is ' + textSizeNum);
    var text = document.getElementById('text'); 
    var box = document.getElementById('box');
    var eleRo = document.getElementById('box');
    var objResizeObserver = new ResizeObserver(function (entries) {
        setTimeout(() => {
            for ( var i=28; i>=12; i--){
        var boxWidth = box.offsetWidth; //获取容器宽度
        var textWidth = text.offsetWidth; //获取字体宽度
        var textSize = getComputedStyle(text).fontSize; //获取字体样式
        if (text.offsetWidth<boxWidth) {
            text.style.fontSize = i
            console.log('true ' + i)
            break;
        } else {
            text.style.fontSize = i
            console.log('false ' + i)
            console.log('容器宽度是 ' + boxWidth);
            console.log('文字宽度是 ' + textWidth);
            console.log('字体大小是 ' + textSize);
        }
    }
        }, 3000)
        
    });
    // 观察文本域元素
    objResizeObserver.observe(eleRo);

const processChanges = debounce(() => saveInput());



    console.log('现在字体大小是 ' + text.style.fontSize);
  </script>
</html>
