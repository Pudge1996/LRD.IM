
<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=devUIice-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <meta name="keywords" content="李瑞东 Pudge 广州 设计 design UI设计 体验设计 B端设计 设计作品 作品集"> 
    <meta name="author" content="李瑞东" />
    <meta name="robots" content="index,follow" />
    <meta name="google" content="index,follow" />
    <meta name="googlebot" content="index,follow" />
    <meta name="verify" content="index,follow" />
    <meta name="format-detection" content="telephone=no, email=no" />
    <!-- It may be good for SEO -->

    <link rel="alternate" type="application/atom+xml" title="李瑞东的设计博客" href="https://lrd.im/feed" />
    <!-- rss -->

    <title>博客实现 RSS 订阅能力全记录 · 李瑞东 LRD.IM</title>
    <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon/favicon-32x32.png">

    
    <!-- main css -->
    <link rel="stylesheet" href="../css/main.css">

    <!-- clipboard js -->
    <script src="../js/clipboard.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112191540-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-112191540-2');
</script>

</head>
  <body>
    <!-- 导航栏-->
    <div class="container-fluid"> 
      <header class="box-header">
          <div class="vw">
          <a href="../index.html" alt="lrd.im 是设计师李瑞东的个人网站。">
              <div class="box-logo"></div>
          </a>
          <!-- nav-text -->
          <div class="nav-text-box">
              <p><a href="../project.html" class="nav-text">作品</a></p>
              <p><a href="../blog.html" class="nav-text">博客</a></p>
              <p><a href="../archive.html" class="nav-text">归档</a></p>
              <p><a href="../about.html" class="nav-text">关于我</a></p>
          </div>
          <div class="icon-menu" id="iconMenu"></div>
          <div class="icon-close hide" id="iconClose"></div>
      </div>
      </header>
  </div>
  <div class="nav-open hidden nav-transform" id="navOpen">
      <a href="../project.html">作品</a>
      <a href="../blog.html">博客</a>
      <a href="../archive.html">归档</a>
      <a href="../about.html">关于我</a>
  </div>
  <div class="nav-mask hidden" id="navMask"></div>
  <!-- end 导航栏-->
<article class="h-entry">
<header>
<h1 class="p-name">博客实现 RSS 订阅能力全记录</h1>
<div class="article-info">
  <p class="article-author">李瑞东 · <time>2022-11-11 </time>首发于 <a href="https://pudge1996.medium.com/rss-feed-ab06d40963a0" target="_blank" class="vpn">Medium</a></p>
  <div class="article-widgets">
    <a href="javascript:" id="blogLinkTop" class="icon-link" title="复制链接" data-clipboard-text="博客实现 RSS 订阅能力全记录 https://lrd.im/blog/2022-11-11-ab06d40963a0.html"></a>
    <a href="javascript:" id="copiedLinkTop" class="icon-check hide" title="复制链接" data-clipboard-text="博客实现 RSS 订阅能力全记录 https://lrd.im/blog/2022-11-11-ab06d40963a0.html"></a>
    <a href="https://lrd.im/feed" class="icon-rss" rel="noopener" target="_blank" title="订阅 RSS"></a>
    <div class="icon-contact" id="contactBtn" title="联系作者"></div>
  </div>
</div>
</header>
<section data-field="body" class="e-content">
  <section name="0a65" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure class="graf graf--figure graf-after--h3"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*3gwu09d-bfeWcn1xvsxDGg.png" width="2880" height="1524" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/01.png"></figure><p class="graf graf--p graf-after--figure">我的个人网站 <a href="https://lrd.im" data-href="https://lrd.im" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">LRD.IM</a> 从 2018 年元旦发布至今，已经持续维护 4 年了。从最开始根据一个网站模板替换图文，到现在全面的「自主研发」，这是我最骄傲的一款作品。接下来要开始尝试将我的博客内容输出成 RSS 源。</p><p class="graf graf--p graf-after--p">这篇博客不谈设计。写一点自己对互联网的初印象，将博客做成 RSS 源的原因，以及使用 RSSHub 将自己网站生成订阅源的过程。</p><h3 class="graf graf--h3 graf-after--p">吹吹水：我的互联网回忆录</h3><h4 class="graf graf--h4 graf-after--h3">对早期互联网的印象</h4><figure class="graf graf--figure graf-after--h4"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*7cKL0tWZsiGLOuW3X8rC0Q.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/02.png"></figure><p class="graf graf--p graf-after--figure">家里 2005 年配置了台电脑，依稀记得那会儿互联网的潮流正好是从门户网站转换到「<a href="https://zh.wikipedia.org/wiki/%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C" data-href="https://zh.wikipedia.org/wiki/%E7%A4%BE%E4%BC%9A%E7%BD%91%E7%BB%9C" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">社会性网络</a>」。</p><p class="graf graf--p graf-after--p">Discuz!、贴吧、QQ空间、开心网等等，都是 Web 2.0 的代表作，我「当年」也有高度参与到这些生态里面。那时候的互联网鼓励人们创造内容，强调互动和内容本身。而不像现在基于所谓的「算法」一直在投喂内容，网站上充斥着营销号、广告、对立、（甚至审查🤫）…</p><p class="graf graf--p graf-after--p">我记得以前网络上的内容是挺有趣的，因为都是自发的内容，感觉很真实。而现在在网上看到「有趣」的内容，却总感觉像是某个 MCN 机构生产出来的，所有内容都有目的，一直在包装、孵化，指向最后的变现… </p><p class="graf graf--p graf-after--p">所以正好我这位在 Web 2.0 时代背景下成长的网民，正好也有掌握了一些专业知识，于是乎就捣鼓出属于我的个人网站 <a href="https://lrd.im" data-href="https://lrd.im" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">LRD.IM</a>，以及目前为止积累了 40 多篇的设计博客。一方面是想通过这些来积累自己的专业知识，另一方面是更想在互联网上留下自己的（且属于自己）的一些痕迹。</p><h4 class="graf graf--h4 graf-after--p">对 RSS 的执念</h4><figure class="graf graf--figure graf-after--h4"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*T6GlnKprob7Cg-NuZlv--Q.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/03.png"></figure><p class="graf graf--p graf-after--figure">以前在 WordPress 搭建的博客、新闻资讯等网站总会有一个 RSS 订阅渠道，最初还没有了解过是什么意思，只是记住了有这个很不起眼的橙色的彩虹条纹的图标。</p><p class="graf graf--p graf-after--p">直到在大学了解到了一些信息获取来源方式和分类之后，才真正了解到 RSS 这个东西。很神奇的是它将内容进行重新格式化输出，将内容和从页面中分离出来，供读者在自己喜欢的第三方阅读器里接收新内容并阅读。</p><p class="graf graf--p graf-after--p">我还是挺认同这个概念的，即使它是 20 年前的产物。</p><p class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">分离原本的网页</strong>，意味着读者可以根据自己喜好在第三方阅读器上进行阅读，甚至自己捣鼓一个阅读器，而并非局限在原本网页管理者的设计中。</p><p class="graf graf--p graf-after--p">而第三方阅读器通常都会有<strong class="markup--strong markup--p-strong">新内容通知</strong>、已读未读标记、分类、标签等功能，这意味着读者能够拥有自己的一套信息获取方式，而不需要受到算法的介入，并能及时获得新内容的推送。</p><p class="graf graf--p graf-after--p">正好由于今年我的设计博客还上了不少公众号、周报的推荐，我察觉到拥有一个自己的内容推送服务迫在眉睫，而 RSS 订阅、邮件订阅都能满足这个需求，正好我就先将 RSS 订阅服务做起来先。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*6P3BCPVTojV3IFZt9u2iOw.png" width="1440" height="778" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/04.png"></figure><p class="graf graf--p graf-after--figure">综上所述，我认同 RSS 的中立、纯粹、无算法介入，以及需要获取一个推送功能。所以，这时的我作为互联网内容生产者，是时候为自己的博客搭建一个 RSS 服务了！</p><h3 class="graf graf--h3 graf-after--p">实打实：将自己的网站生成 RSS 订阅源</h3><h4 class="graf graf--h4 graf-after--h3">预期</h4><p class="graf graf--p graf-after--h4">首先阐述下我的预期效果：</p><ul class="postList"><li class="graf graf--li graf-after--p">抓取到 <a href="https://lrd.im/blog.html" data-href="https://lrd.im/blog.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Blog</a> 页面里的所有博客，并能检测到内容变动（包括增删改）；</li><li class="graf graf--li graf-after--li">将抓取的内容生成为 RSS 要求的格式，比如 XML；</li><li class="graf graf--li graf-after--li">更新内容时，在第三方阅读器中确保至少的时效性（不会延迟太久）和内容准确度（顺序不会错乱）；</li><li class="graf graf--li graf-after--li">订阅链接用回自己的域名。</li></ul><h4 class="graf graf--h4 graf-after--li">尝试一：第三方生成服务</h4><figure class="graf graf--figure graf-after--h4"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*PVqNKiJ-kw5coXzCFjOB4Q.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/05.png"></figure><p class="graf graf--p graf-after--figure">于是乎我首先也试了几个做法，第一个是寄托于第三方的 RSS 生成服务。比如 <a href="https://feed43.com/" data-href="https://feed43.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Feed43</a>、<a href="http://www.feedburner.com/" data-href="http://www.feedburner.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Feedburner</a>、<a href="https://rss.app/" data-href="https://rss.app/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">RSS.app</a>。当时我是期望这些第三方服务能够满足上述的预期效果，自动抓取我发布的新博客生成为 RSS 文件。它们确实也做到了，但会各自有一些硬伤。</p><ul class="postList"><li class="graf graf--li graf-after--p">Feed43：更新快，准确。但是免费版里生成的 Feed 里面会带有它们品牌的宣传，且国内访问速度一般；</li><li class="graf graf--li graf-after--li">Feedburner：更新速度一般，准确。但是被墙了，国内无法正常访问。</li><li class="graf graf--li graf-after--li">RSS.app：更新快，准确。但是只能抓取前几条内容，想要保留所有内容需付费升级账号。是否被墙倒是没试过。</li></ul><p class="graf graf--p graf-after--li">试了一遍论坛/讨论组内大伙儿推荐的 RSS 生成服务提供商，没有完美地达到我的期望，每个都是差一点，只能靠自己了。</p><h4 class="graf graf--h4 graf-after--p">尝试二：手动制作静态文件</h4><p class="graf graf--p graf-after--h4">眼见外部服务不好使，于是乎我跑去看了看 RSS 的语法规范，尝试用最笨的方法：按照语法自己手动编写一份 XML 文档出来，给到读者去订阅。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*0HPwJfLfu1GVIMjED9uB7w.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/06.png"></figure><p class="graf graf--p graf-after--figure">大费周章按 RSS 语法规范写完了 XML，传了两份用作测试，一份传在自己的阿里云轻应用服务器上，另一份传到了阿里云 OSS 里。之后用第三方阅读器订阅 RSS 链接。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*_oGPWiottODdviAqaq109A.png" width="1440" height="778" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/07.png"></figure><p class="graf graf--p graf-after--figure">结果在阅读器里看到顺序错乱，时间异常，更新非常迟缓。刚开始我还以为这个笨方法能行得通，只是做起来比较麻烦，没想到仍然有这么多缺点。</p><h4 class="graf graf--h4 graf-after--p">最后一试：用 RSSHub 将自己网站生成为 RSS 源</h4><figure class="graf graf--figure graf-after--h4"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*dufIIlD9KGR8sARdBm-BfQ.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/08.png"></figure><p class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">了解 RSSHub</strong><br>前两种方法试过都不能满足我的要求之后，我实在找不到一个好的思路或方向去实现，唯有在 V2EX 上发了个<a href="https://v2ex.com/t/892084" data-href="https://v2ex.com/t/892084" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">帖子</a>请教下其他人。虽然帖子只有两个人回复，但足够启发我去解决问题了。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*d3c8hQnlEo7M3vlg3Qy4Ew.png" width="1440" height="862" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/09.png"></figure><p class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">一楼</strong>回复建议我给 <a href="https://docs.rsshub.app/" data-href="https://docs.rsshub.app/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">RSSHub</a> 提个申请，让其他人写个规则来抓取我的网站，然后合并到 RSSHub 项目里，用该链接作为 RSS 的订阅链接。</p><p class="graf graf--p graf-after--p">后面我去了解了下 RSSHub，原来这是一个开源的 RSS 订阅源生成器，编写好规则（项目内称为脚本）后就能将内容按照 RSS 的语法生成一份订阅源，之后都可以用生成出来的链接在第三方阅读器上订阅和浏览。同时可以部署在自己的服务器里面，也能直接用 RSSHub 项目内别人预先编写好的规则，两者的效果是一样的。</p><p class="graf graf--p graf-after--p">粗浅了解下 RSSHub 的能力，以及也看了用该服务生成出来的订阅链接，功能上是能解决我的问题，但是时效性、准确度这些得自己部署完才能知道。</p><p class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">二楼</strong>回复认为静态的 XML 文件作为订阅源，会存在着不受我控制的缓存机制。于是乎我更坚定地认为应该尝试使用 RSSHub 的服务，毕竟这是动态生成，不是一个憨憨的静态文件。</p><p class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">安装 RSSHub</strong><br>登录到服务器，由于我用的网站在阿里云轻服务器上搭建的，所以直接在网页里就能远程登录，其他服务器也能 ssh 登录后依次输入指令安装并运行 RSSHub。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*382TpExKB4iopx9K9-i5ag.png" width="1440" height="400" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/10.png"></figure><pre class="graf graf--pre graf-after--figure">git clonehttps://github.com/DIYgod/RSSHub.git<br>cd RSSHub<br>npm install<br>npm start</pre><p class="graf graf--p graf-after--pre">成功安装并运行后，在浏览器访问 1200 端口应该能看到如下页面。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*WWpfh5fv73H2lLQTYCju6w.png" width="1440" height="700" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/11.png"></figure><p class="graf graf--p graf-after--figure">回到终端，设置 RSSHub 服务常驻（断开 ssh 链接后仍然保持服务）；以及开机自启。</p><pre class="graf graf--pre graf-after--p"># 设置常驻<br>npm install pm2 -g<br>pm2 start lib/index.js</pre><pre class="graf graf--pre graf-after--pre"># 设置开机自启<br>pm2 save<br>pm2 startup</pre><p class="graf graf--p graf-after--pre">这时可以访问几个 RSSHub 项目自带的路由，探索下其他有趣的 RSS 源。然后开始编写自己的脚本路由。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*U0sdA5lL4I_99J5TRPjK6g.png" width="1440" height="700" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/12.png"></figure><p class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">编写脚本路由</strong><br>这一部分我的思路是参考文档的指引，并且在 RSSHub 项目内找到已有的脚本路由，找一份与自己网页结构类似的脚本，照葫芦画瓢捣鼓一份出来。</p><p class="graf graf--p graf-after--p">按文档的说法，<code class="markup--code markup--p-code">/lib/router.js</code> 里面记载了所有路由，即指明通过域名访问而指向的脚本。我先在里面创建一个路由，让其链接到之后创建的脚本。</p><pre class="graf graf--pre graf-after--p"># 添加路由<br>router.get(&#39;/feed&#39;, lazyloadRouteHandler(&#39;./routes/lrdim/blogs&#39;));</pre><figure class="graf graf--figure graf-after--pre"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*bCquarmiIb9DFXUpBpR0eA.png" width="1440" height="312" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/13.png"></figure><p class="graf graf--p graf-after--figure">其中 <code class="markup--code markup--p-code">/feed</code> 意思是我希望通过域名/feed 能够访问到我的 RSS 源，即 lrd.im/feed。后面的 <code class="markup--code markup--p-code">./routes/lrdim/blogs</code> 意思是用前面的链接访问时，是链接到 <code class="markup--code markup--p-code">/routes/lrdim/blogs.js</code> 这个文件，用里面的规则生成 RSS 源。</p><p class="graf graf--p graf-after--p">然后到 <code class="markup--code markup--p-code">/lib/routes</code> 里面创建 <code class="markup--code markup--p-code">lrdim</code> 这个文件夹，并在里面创建 <code class="markup--code markup--p-code">blog.js</code> 这个文件，我们的抓取规则要写在里面。</p><p class="graf graf--p graf-after--p">由于我的网站是静态的 HTML 页面，所以我按照文档里的<a href="https://docs.rsshub.app/joinus/quick-start.html#ti-jiao-xin-de-rsshub-gui-ze-bian-xie-jiao-ben" data-href="https://docs.rsshub.app/joinus/quick-start.html#ti-jiao-xin-de-rsshub-gui-ze-bian-xie-jiao-ben" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">第二种方法</a>，按照元素的标签和样式来抓取里面的数据。并且当时有参考了一个网页结构同样很简单的 RSSHub 内置源：<a href="https://www.foreverblog.cn/feeds.html" data-href="https://www.foreverblog.cn/feeds.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">十年之约</a>。具体做法不在这详细说明了，主要按文档规范走就没啥问题，cheerio 语法也很直观容易理解。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*kKcBIuuR9HKuKYEum4ZK_g.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/14.png"></figure><p class="graf graf--p graf-after--figure">保存后过几分钟，已经能在 lrd.im:1200/feed 中访问生成的 RSS 源了。此时需检查下名称、描述、标题、摘要、日期等有没有问题。</p><blockquote class="graf graf--blockquote graf-after--p"><em class="markup--em markup--blockquote-em">注意：日期必须按照</em><a href="https://docs.rsshub.app/joinus/pub-date.html" data-href="https://docs.rsshub.app/joinus/pub-date.html" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank"><em class="markup--em markup--blockquote-em">格式</em></a><em class="markup--em markup--blockquote-em">编写，不能出现非法内容。否则这条 item 不会出现在结果中。我是写成了 YYYY-MM-DD。</em></blockquote><p class="graf graf--p graf-after--blockquote"><strong class="markup--strong markup--p-strong">调整渲染模版</strong><br>由于刚刚通过设置 RSSHub 脚本获取到的数据，会经过 <code class="markup--code markup--p-code">rss.art</code> 模版处理后再成为 RSS 订阅源，所以我们需要打开 <code class="markup--code markup--p-code">/lib/views/rss.art</code> 对渲染模版作出相应的调整，比如预设 <code class="markup--code markup--p-code">&lt;webMaster&gt;</code> 不符合预期，调整为我自己的邮箱。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*9-XCwLqddI4EXixoMAlZXg.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/15.png"></figure><p class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">设置代理</strong><br>至此，我的 RSS 订阅源已经生成完毕，内容、格式等符合要求，剩下的只有域名还不大对劲。</p><p class="graf graf--p graf-after--p">截至到上面的步骤，我的 RSS 订阅源扔人家需要通过端口来访问：lrd.im:1200/feed。这个肯定是不能作为最终产物的，谁会把端口直接暴露出来，太丢人了。于是乎需要配置最后一步：设置代理。</p><p class="graf graf--p graf-after--p">我的服务器里安装了 nginx，打开 <code class="markup--code markup--p-code">nginx/conf/nginx.conf</code> 后配置代理，将 lrd.im/feed 指向 1200 端口的页面。</p><pre class="graf graf--pre graf-after--p">location /feed {<br>  proxy_pass http://127.0.0.1:1200;<br>}</pre><figure class="graf graf--figure graf-after--pre"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*9TO73-68-43mWS_bMzNlzA.png" width="1440" height="312" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/16.png"></figure><p class="graf graf--p graf-after--figure">此时测试 lrd.im/feed，已经能正常访问经 RSSHub 生成的订阅源。</p><p class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">验收</strong><br>拿订阅链接去各主流阅读器中试验，尝试搜索、添加此链接，并尝试增删改被抓取的网页内容，检查到确实能够及时更新，且不会信息错乱。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*PsNk2AmSxB1xQSVUFEsFuw.png" width="1440" height="778" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/17.png"></figure><p class="graf graf--p graf-after--figure">大功告成！奉上我的设计博客正式的 RSS 订阅链接：<a href="https://lrd.im/feed" data-href="https://lrd.im/feed" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://lrd.im/feed</a></p><p class="graf graf--p graf-after--p">将该链接复制到 RSS 阅读器上就能够及时获取我的最新设计博客了。阅读器的话看个人喜好，目前我觉得 <a href="https://www.inoreader.com/" data-href="https://www.inoreader.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Inoreader</a> 和 <a href="https://reederapp.com/" data-href="https://reederapp.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Reeder</a> 的体验都不错。</p><h3 class="graf graf--h3 graf-after--p">做多啲：在网站中曝光 RSS 订阅功能</h3><p class="graf graf--p graf-after--h3">费了这么大周章捣鼓的新功能，起码在我的网站里多多曝光才是。所以我顺手做了三件事。</p><h4 class="graf graf--h4 graf-after--p">支持 RSSHub Radar</h4><p class="graf graf--p graf-after--h4">RSSHub 有一个浏览器插件叫 RSSHub Radar，用于探测网站上提供的 RSS，让读者能在浏览器的插件位置直接就能订阅，而不必在网页上费劲去找 RSS 订阅按钮。</p><p class="graf graf--p graf-after--p">支持该功能也不怎么复杂，我在所有页面的 &lt;head&gt; 处都添加了一条订阅地址，就能够被 RSSHub Radar 识别到。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*FcyCTjm3W9zdUUE2pFj5KA.png" width="1440" height="514" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/18.png"></figure><h4 class="graf graf--h4 graf-after--figure">博客页新功能提示</h4><p class="graf graf--p graf-after--h4">既然是我的博客内容的 RSS 源，那理所当然地应该在 lrd.im/blog.html 里添加一个稍微醒目一点的 Banner，提示到当前已经支持 RSS 啦！</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*aglvGXmoc-3PVYqg3M-buA.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/19.png"></figure><p class="graf graf--p graf-after--figure">此处参考了 Instagram 和 Apple 的样式，高亮若干秒之后开始减弱对比，使其融入到页面中。用了 CSS 的 <code class="markup--code markup--p-code">keyframe</code> 来做。</p><h4 class="graf graf--h4 graf-after--p">博客详情页功能组</h4><p class="graf graf--p graf-after--h4">从 Google Analytics 处跟踪到的数据，挺多流量是来自直接的博客详情页，而不是先从列表页跳转到详情页。所以也为了增加在详情页的曝光，我在「作者信息」一行右侧新添加了几个按钮，分别是：复制文章链接、RSS 订阅、联系小东。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*RjAnqLoC6iWzBBvFNoVJoA.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/20.png"></figure><p class="graf graf--p graf-after--figure">原本「复制文章链接」这个功能我是做成响应式设计，只在移动端尺寸下才能看到，但还是根据 GA 数据反馈，造访我的博客的流量中有至少 75% 是来自桌面端，所以我将这个功能开放了。</p><p class="graf graf--p graf-after--p">「RSS 订阅」功能点击后能直接跳转到 lrd.im/feed，后续的订阅操作懂得都懂。每篇文章都提供这个入口，极大提高曝光量。</p><p class="graf graf--p graf-after--p">「联系小东」的功能是点击后出现我的微信二维码。我的设计博客通常会输出我的观点和看法，而我的网站里面又没有评论的功能，所以我捣鼓了一个微信二维码上去，读者如果有东西想和我交流就能直接加我好友一起交流。</p><p class="graf graf--p graf-after--p">这些功能没做成悬停在左右两侧，原因是我不太想在读者阅读时有其他干扰项。</p><p class="graf graf--p graf-after--p">哦对了，还顺便 Close 了一个，也是目前唯一一个 Issue。</p><figure class="graf graf--figure graf-after--p"><img class="graf-image lazyload" data-action="zoom" data-image-id="1*bLF1F8ApwFKCamRXip-nfg.png" width="1440" height="670" src="https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/21.png"></figure><h3 class="graf graf--h3 graf-after--figure">总结</h3><p class="graf graf--p graf-after--h3">给博客生成 RSS 订阅源这事虽然一直惦记了有大半年，但实际开始到最终呈现，历时一周左右，都是用下班时间和周末探索的。</p><p class="graf graf--p graf-after--p">又到了给自己挖坑的时间：后面关于博客订阅这块，我会做的几件事：</p><ul class="postList"><li class="graf graf--li graf-after--p">想办法将自己的 RSS 源链接提交到 RSSHub 项目下的<a href="https://docs.rsshub.app/blog.html" data-href="https://docs.rsshub.app/blog.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">博客分类</a>；</li><li class="graf graf--li graf-after--li">研究主流的 RSS 阅读器抓取文章首图的规则。现在抓取的首图并非每次都符合我的预期，可能本身我的博客详情页构造需要作些许调整；</li><li class="graf graf--li graf-after--li">探索开拓邮箱订阅功能的必要性。目前 Medium 能够用邮箱订阅我的最新博客动态，在想是否需要用到 <a href="https://www.getrevue.co/" data-href="https://www.getrevue.co/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Revue</a> 或<a href="https://zhubai.love/" data-href="https://zhubai.love/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">竹白</a>之类的自己捣鼓一个邮件订阅服务，内嵌到个人网站里面去。顾虑是担心这种平台的文本编辑器功能是否够完善，以及和 Medium 功能重复了。</li></ul><p class="graf graf--p graf-after--li">完成了自己的<strong class="markup--strong markup--p-strong">一项执念</strong>，如释重负，舒坦开朗。但心里仍然藏了另一项<strong class="markup--strong markup--p-strong">执念</strong>，我惦记了有至少一两年了，仍待推进…</p><h3 class="graf graf--h3 graf-after--p">参考文档</h3><div class="graf graf--mixtapeEmbed graf-after--h3"><a href="https://docs.rsshub.app/joinus/quick-start.html#can-yu-tao-lun" data-href="https://docs.rsshub.app/joinus/quick-start.html#can-yu-tao-lun" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://docs.rsshub.app/joinus/quick-start.html#can-yu-tao-lun"><strong class="markup--strong markup--mixtapeEmbed-strong">参与我们</strong><br><em class="markup--em markup--mixtapeEmbed-em">开始编写 RSS 源前请确认源站没有提供 RSS，部分网页会在 HTML 头部包含 type 为 application/atom+xml 或 application/rss+xml 的 link 元素来指明 RSS 链接 首先 yarn…</em>docs.rsshub.app</a><a href="https://docs.rsshub.app/joinus/quick-start.html#can-yu-tao-lun" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="c262b19ffd600ac585f27f3e47e996d1"></a></div><div class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://maronyea.me/restless/72/" data-href="https://maronyea.me/restless/72/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://maronyea.me/restless/72/"><strong class="markup--strong markup--mixtapeEmbed-strong">为任意网站创建 RSSHub 路由的思路 | Maron的自留地</strong><br><em class="markup--em markup--mixtapeEmbed-em">前一篇文章 提到，RSSHub 可以为诸多网站提供生成 RSS 订阅链接，但是除了目前已经适配了的网站以外，还有更多的网站是没有适配的。对于这些网站，可以发到 RSSHub 在 Github 上的 issue…</em>maronyea.me</a><a href="https://maronyea.me/restless/72/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="e9f2f7c355bb56ab9c0a234f7a1ec8d4" data-thumbnail-img-id="0*y7SumJHTkbcnqRzF" style="background-image: url(https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/22.png);"></a></div><div class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://sspai.com/post/34320" data-href="https://sspai.com/post/34320" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://sspai.com/post/34320"><strong class="markup--strong markup--mixtapeEmbed-strong">利用 Feed43，将任意网页制作成 RSS 订阅源 | 一日一技 - 少数派</strong><br><em class="markup--em markup--mixtapeEmbed-em">Google Reader 的关闭后，到处充斥着 RSS 将死的论调。如今看来并没有想象中的那么惨，许多人依旧喜欢沿用 RSS 作为自己获取信息的方式。 前段时间，少数派 Matrix 进行了一次关于 RSS…</em>sspai.com</a><a href="https://sspai.com/post/34320" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="09a3709b8183a11d36a81900673706f3" data-thumbnail-img-id="0*eZbhWP-YrPUjg4-y" style="background-image: url(https://lrdim.oss-cn-shenzhen.aliyuncs.com/blogimg/2022-11-11-ab06d40963a0/23.png);"></a></div><div class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://xuexb.github.io/learn-nginx/example/proxy_pass.html" data-href="https://xuexb.github.io/learn-nginx/example/proxy_pass.html" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://xuexb.github.io/learn-nginx/example/proxy_pass.html"><strong class="markup--strong markup--mixtapeEmbed-strong">proxy_pass url 反向代理的坑 | Nginx 入门教程</strong><br><em class="markup--em markup--mixtapeEmbed-em">说到 Nginx 就不得不说 Nginx 的反向代理是多么的好用，一个指令 proxy_pass 搞定反向代理，对于接口代理、负载均衡很是实用，但 proxy_pass 指令后面的参数很有讲究。…</em>xuexb.github.io</a><a href="https://xuexb.github.io/learn-nginx/example/proxy_pass.html" class="js-mixtapeImage mixtapeImage mixtapeImage--empty u-ignoreBlock" data-media-id="053e7204273d46b5d9c76389005d812e"></a></div><p class="graf graf--p graf--empty graf-after--mixtapeEmbed graf--trailing"><br></p></div></div></section>
  </section>
<hr class="end-dividers hr-1" data-content="分隔线">

<div class="article-navigation">
  <a href="2022-10-31-95606a08fc44.html" class="previous">
      <p>上一篇</p>
      <p class="title">网页布局设计和适配（分享会文稿）</p>
  </a>
  <a class="next no-post">
    <p>下一篇</p>
    <p class="title">已是最新</p>
  </a>
</div>

<hr class="end-dividers hr-2" data-content="分隔线">

<div class="footer-action">
  <div class="back-to-article"><a href="../blog.html"><span class="icon-back"></span>博客首页</a></div>
  <div class="copy-link" id="copyLink"><a href="javascript:" id="blogLink" data-clipboard-text="博客实现 RSS 订阅能力全记录 https://lrd.im/blog/2022-11-11-ab06d40963a0.html" ><span class="icon-link"></span>复制链接</a></div>
  <div class="copied hide" id="copied"><a href="javascript:" data-clipboard-text="博客实现 RSS 订阅能力全记录 https://lrd.im/blog/2022-11-11-ab06d40963a0.html"><span class="icon-success"></span>复制成功!</a></div>
  <div class="mobile-top"><a href="#" onclick="backToTop(4)"><span class="icon-top"></span>回到顶部</a></div>
</div>

<!-- back to top -->
<div id="sideButton">
  <div class="side-button to-top" id="toTop" onclick="backToTop(4)">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="#232323">
          <path d="M277.375 427V167.296l119.702 119.702L427 256 256 85 85 256l29.924 29.922 119.701-118.626V427h42.75z"/>
      </svg>
  </div>
</div>
<!-- end back to top -->

<!-- footer -->
<footer>
  <span>© 李瑞东 2017-<script>document.write(new Date().getFullYear());</script></span>
</footer>
<!-- end footer -->
</article>
<script src="https://cdn.jsdelivr.net/npm/zoom-vanilla.js/dist/zoom-vanilla.min.js"></script>
<script src="../js/lazysizes.min.js"></script>
<script src="../js/custom.js"></script>
</body>
</html>